<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Journal</title>
</head>
<body style="background-color: #1e1e1e; color: #f5f5f5; font-family: Arial, sans-serif;">
    <a href="/" style="color: #007acc; text-decoration: none; font-size:large;"><= Go Back</a>
    <header style="text-align: center; margin-top: 20px;">
        <h1>Welcome to Your Journal</h1>
        <p>Add new entries and view your past journal entries.</p>
    </header>

    <!-- Form to Add a New Note -->
    <main style="display: flex; flex-direction: column; align-items: center; margin-top: 30px;">
        <section style="width: 100%; max-width: 600px; padding: 20px; background-color: #2d2d2d; border-radius: 8px; margin-bottom: 30px;">
            <form action="/journal/<%= userId %>/add" method="post">
                <label for="date" style="display: block; margin-bottom: 10px;">Date:</label>
                <input type="date" id="date" name="date" required
                       style="width: 100%; padding: 10px; background-color: #3c3c3c; color: #f5f5f5; border: none; border-radius: 4px; margin-bottom: 15px;">

                <label for="content" style="display: block; margin-bottom: 10px;">Journal Entry:</label>
                <textarea id="content" name="content" rows="6" required
                          style="width: 100%; padding: 10px; background-color: #3c3c3c; color: #f5f5f5; border: none; border-radius: 4px; resize: none; margin-bottom: 15px;"></textarea>

                <button type="submit" style="padding: 10px 20px; background-color: #007acc; color: #f5f5f5; border: none; border-radius: 4px; cursor: pointer;">Add Note</button>
            </form>
        </section>

        <!-- Displaying Notes -->
        <section style="width: 100%; max-width: 600px; ">
            <% if (notes.length > 0) { %>
                <% notes.forEach(function(note) { %>
                    <div style="cursor: pointer; padding: 15px; background-color: #2d2d2d; margin-bottom: 20px; border-radius: 8px;"
                    onclick="window.location.href='/journal/<%= userId %>/edit/<%= note._id %>'">
                        <h2 style="color: #ffcc00; font-size: 20px; margin-bottom: 10px;"><%= note.date.toDateString() %></h2>
                        <p style="color: #f5f5f5; font-size: 16px; line-height: 1.5;"><%= note.content.substring(0, 64) %></p>
                    </div>
                <% }) %>
            <% } else { %>
                <p style="color: #9c9c9c; text-align: center;">No notes yet. Add your first note above!</p>
            <% } %>
        </section>
    </main>
</body>
</html>
